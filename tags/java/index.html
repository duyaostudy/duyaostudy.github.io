<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>标签: java - 冰海</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="冰海"><meta name="msapplication-TileImage" content="/img/ice-favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="冰海"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="个人博客，记录每一次成长"><meta property="og:type" content="blog"><meta property="og:title" content="冰海"><meta property="og:url" content="http://duyaostudy.github.io/"><meta property="og:site_name" content="冰海"><meta property="og:description" content="个人博客，记录每一次成长"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://duyaostudy.github.io/img/og_image.png"><meta property="article:author" content="duyao"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://duyaostudy.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://duyaostudy.github.io"},"headline":"冰海","image":["http://duyaostudy.github.io/img/og_image.png"],"author":{"@type":"Person","name":"duyao"},"publisher":{"@type":"Organization","name":"冰海","logo":{"@type":"ImageObject","url":"http://duyaostudy.github.io/img/ice-logo.svg"}},"description":"个人博客，记录每一次成长"}</script><link rel="icon" href="/img/ice-favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/ice-logo.svg" alt="冰海" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">文章</a><a class="navbar-item" href="/categories">类别</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/duyaostudy/hexo-theme-icarus-duyao-duyao"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/tags">标签</a></li><li class="is-active"><a href="#" aria-current="page">java</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-12-15T07:27:51.380Z" title="2022/12/15 15:27:51">2022-12-15</time>发表</span><span class="level-item"><time dateTime="2022-12-15T07:50:41.806Z" title="2022/12/15 15:50:41">2022-12-15</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span><span class="level-item">38 分钟读完 (大约5668个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/12/15/Spring5/">Sping5</a></h1><div class="content"><blockquote>
<p>文章测试，布局问题待解决</p>
</blockquote>
<h2 id="1-1-概念概述"><a href="#1-1-概念概述" class="headerlink" title="1.1 概念概述"></a>1.1 概念概述</h2><blockquote>
<ol>
<li>是一个轻量级开源JavaEE框架</li>
<li>Spring可以解决企业应用开发的复杂性</li>
<li>Spring两核心： IOC和Aop<ol>
<li>IOC：控制反转，把创建对象的过程交给Spring管理</li>
<li>Aop：面向切面，不修改源代码的情况下对功能进行增强</li>
</ol>
</li>
<li>Spring特点<ol>
<li>方便解耦，简化开发</li>
<li>Aop编程支持</li>
<li>方便程序测试</li>
<li>方便集成各种优秀框架</li>
<li>降低JavaEE的使用难度</li>
<li>方便进行事务的操作</li>
<li>降低API开发难度</li>
<li>Java源码的经典示范</li>
</ol>
</li>
</ol>
</blockquote>
<h2 id="IOC容器"><a href="#IOC容器" class="headerlink" title="IOC容器"></a>IOC容器</h2><h3 id="1-IOC"><a href="#1-IOC" class="headerlink" title="1 IOC"></a>1 IOC</h3><h4 id="1-什么是IOC："><a href="#1-什么是IOC：" class="headerlink" title="1. 什么是IOC："></a>1. 什么是IOC：</h4><blockquote>
<ol>
<li>容器</li>
<li>控制反转：将对象创建和调用都交给spring进行管理</li>
<li>目的：降低耦合度</li>
</ol>
</blockquote>
<h4 id="2-底层原理"><a href="#2-底层原理" class="headerlink" title="2. 底层原理"></a>2. 底层原理</h4><blockquote>
<ol>
<li><p>xml解析、工厂模式、反射</p>
<ol>
<li><p>工厂模式：</p>
<ol>
<li><p>&#96;&#96;&#96;java<br>class Userservice{<br>execute(){<br>    UserDao dao &#x3D; UserFactory.getDao();<br>    dao.add();<br>}<br>}</p>
<p>class UserDao{<br>add(){<br>    ….<br>}<br>}</p>
<p>class UserFactory{<br>public static UserDao getDao(){<br>    return new UserDao();<br>}<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">      2. 目的：让耦合度降低到最低限度</span><br><span class="line"></span><br><span class="line">#### 3. IOC过程：</span><br><span class="line"></span><br><span class="line">1. xml配置文件，配置创建的对象</span><br><span class="line"></span><br><span class="line">   1. ```xml</span><br><span class="line">      &lt;bean id=&quot;dao&quot; class=&quot;com.dy.UserDao&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
<li><p>有service类和dao类，创建工厂类</p>
<ol>
<li>&#96;&#96;&#96;java<br>class UserFactory{<br>public static UserDao getDao(){<br>    String classValue &#x3D; class属性值;&#x2F;&#x2F;1. xml解析<br>    Class clazz &#x3D; Class.forName(classValue);&#x2F;&#x2F; 2. 通过反射创建对象<br>    return clazz.newInstance();<br><br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 4. IOC接口</span><br><span class="line"></span><br><span class="line">1. IOC思想基于IOC容器完成，IOC容器底层就是对象工厂</span><br><span class="line">2. Spring提高IOC容器实现的两种方式（两种接口）：</span><br><span class="line">   1. BeanFactory：IOC容器基本实现，spring内部使用接口，一般不提供给开发人员</span><br><span class="line">      1. 加载配置文件时不会创建对象，获取对象时才去创建对象</span><br><span class="line">   2. ApplicationContext：BeanFactory接口的子接口，提高更多更强大的功能，一般使用与开发人员</span><br><span class="line">      1. 加载配置文件时就会把配置文件创建了</span><br><span class="line">   3. ApplicationContext实现类：</span><br><span class="line">      1. ![image-20220326112518394](C:\Users\86152\AppData\Roaming\Typora\typora-user-images\image-20220326112518394.png)</span><br><span class="line">         1. Class类是相当于xml读取相对路径</span><br><span class="line">         2. File类相当于xml读取绝对路径</span><br><span class="line"></span><br><span class="line">### 2 IOC操作Bean管理</span><br><span class="line"></span><br><span class="line">#### Bean管理</span><br><span class="line"></span><br><span class="line">1. Spring创建对象</span><br><span class="line">2. Spring注入属性</span><br><span class="line">3. Bean管理操作有两种方式</span><br><span class="line">   1. 基于xml配置文件方式实现</span><br><span class="line">   2. 基于注解方式实现</span><br><span class="line"></span><br><span class="line">#### IOC管理方式实现</span><br><span class="line"></span><br><span class="line">##### 1. 基于xml方式实现</span><br><span class="line"></span><br><span class="line">1. id属性：唯一标识，</span><br><span class="line">2. class属性：类全路径（包类路径）</span><br><span class="line">3. name属性：和id属性类似，但不能使用特殊字符（现不常用）</span><br><span class="line">4. 创建对象时默认执行的无参数构造方法完成创建**</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">&lt;bean id=&quot;user&quot; class=&quot;com.dy.spring.study.User&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</blockquote>
<h5 id="2-基于xml方式注入属性"><a href="#2-基于xml方式注入属性" class="headerlink" title="2. 基于xml方式注入属性"></a>2. 基于xml方式注入属性</h5><blockquote>
<ol>
<li>DI：依赖注入，注入属性</li>
<li>先创建对象，再注入属性</li>
</ol>
</blockquote>
<h5 id="3-set方法注入"><a href="#3-set方法注入" class="headerlink" title="3.set方法注入"></a>3.set方法注入</h5><blockquote>
<ol>
<li><p>创建Book对象，用set方法进行属性注入</p>
</li>
<li><p>name属性名称 value属性值</p>
</li>
<li><pre><code class="Java">
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;bean id=&quot;book&quot; class=&quot;com.dy.spring.study.Book&quot;&gt;</span><br><span class="line">   //使用property完成属性注入  </span><br><span class="line">       &lt;property name=&quot;bname&quot; value=&quot;hello world&quot;&gt;&lt;/property&gt;</span><br><span class="line">       &lt;property name=&quot;bauthor&quot; value=&quot;dy&quot;&gt;&lt;/property&gt;</span><br><span class="line">   &lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>默认找Book方法里面的set方法，set方法不一致就会报错</p>
</li>
</ol>
</blockquote>
<h5 id="4-有参构造注入"><a href="#4-有参构造注入" class="headerlink" title="4. 有参构造注入"></a>4. 有参构造注入</h5><blockquote>
<ol>
<li><p>创建类、定义属性、定义属性的构造方法</p>
</li>
<li><p>配置spring文件</p>
</li>
<li><pre><code class="java">&lt;!--有参数构造注入属性--&gt;
 &lt;!--constructor_org进行参数注入--&gt;
       &lt;bean id=&quot;orders&quot; class=&quot;com.dy.spring.study.Orders&quot;&gt;
           //属性名称注入属性
               &lt;constructor-arg name=&quot;address&quot; value=&quot;中国&quot;&gt;&lt;/constructor-arg&gt;
           //数组下标位置注入属性
               &lt;constructor-arg index=&quot;0&quot; value=&quot;1002&quot;&gt;&lt;/constructor-arg&gt;
       &lt;/bean&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>p名称空间注入（了解）</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 5. 简化基于xml配置的方式</span><br><span class="line"></span><br><span class="line">1. 添加p名称空间再xml文件当中</span><br><span class="line">2. ```java</span><br><span class="line">   &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;</span><br><span class="line">          xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">          xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br><span class="line">          xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans</span><br><span class="line">           https://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><p>进行属性注入</p>
</li>
<li><pre><code class="java"> &lt;bean id=&quot;book&quot; class=&quot;com.dy.spring.study.Book&quot; p:bname=&quot;阿三&quot; p:bauthor=&quot;无名狮子&quot;&lt;/bean&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">5. 底层基于set方法注入属性</span><br><span class="line">6. DI是IOC的一种具体实现</span><br><span class="line"></span><br><span class="line">#### xml注入其他类型属性：</span><br><span class="line"></span><br><span class="line">1. 字面量</span><br><span class="line">2. 空值</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">   &lt;property name=&quot;bname&quot;&gt;</span><br><span class="line">      &lt;null&gt;&lt;/null&gt;</span><br><span class="line">   &lt;/property&gt;</span><br><span class="line"> //属性值赋值为空值  </span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>属性值包含特殊值</p>
</li>
<li><p>把特殊符合进行转义</p>
</li>
<li><p>&lt;&gt; 特殊字符</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; &gt;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>把特殊符号内容写道CDATA</li>
<li></li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bauthor&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[&lt;&lt;南京&gt;&gt;]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><![CDATA[<<南京>>]]></li>
</ol>
</blockquote>
<h5 id="注入属性-外部bean"><a href="#注入属性-外部bean" class="headerlink" title="注入属性-外部bean"></a>注入属性-外部bean</h5><blockquote>
<ol>
<li>先创建dao,service类里导入dao类，在bean里注入外部类</li>
<li>&#96;&#96;&#96;xml<bean id="userService" class="com.dy.spring.service.UserService">
     <!-- 
         name中添加的是属性名称
         ref:创建userDao对象bean标签的id值
     -->
     //接口类
    <property name="userdao" ref="userDaoImp"></property>
</bean>

<pre><code>                                            //实现类
</code></pre>
 <bean id="userDaoImp" class="com.dy.spring.dao.UserDaoImp"></bean><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 注入属性-内部bean和级联赋值</span><br><span class="line"></span><br><span class="line">1. 一对多关系</span><br><span class="line">2. 内部bean</span><br><span class="line">3. bean文件配置</span><br><span class="line">4. ```xml</span><br><span class="line">   &lt;!--    内部bean--&gt;</span><br><span class="line">   &lt;bean id=&quot;emp&quot; class=&quot;com.dy.spring.bean.Emp&quot;&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!--    设置两个普通属性--&gt;</span><br><span class="line">      &lt;property name=&quot;ename&quot; value=&quot;张三&quot;&gt;&lt;/property&gt;</span><br><span class="line">      &lt;property name=&quot;genderl&quot; value=&quot;男&quot;&gt;&lt;/property&gt;</span><br><span class="line">      &lt;property name=&quot;dep&quot;&gt;</span><br><span class="line">          &lt;!--    在属性中引入需要的bean--&gt;</span><br><span class="line">          &lt;bean id=&quot;dep&quot; class=&quot;com.dy.spring.bean.Dept&quot;&gt;</span><br><span class="line">          	&lt;property name=&quot;dname&quot; value=&quot;财务&quot;&gt;&lt;/property&gt;</span><br><span class="line">           &lt;/bean&gt;</span><br><span class="line">      &lt;/property&gt;</span><br><span class="line">   &lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
<li>emp类属性</li>
<li>&#96;&#96;&#96;<br>private String ename;<br>private String genderl;<br>&#x2F;&#x2F;  员工属于某一个部门<br>private Dept dep;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7. 级联赋值</span><br><span class="line"></span><br><span class="line">   1. ```xml</span><br><span class="line">      &lt;bean id=&quot;emp&quot; class=&quot;com.dy.spring.service.Emp&quot;&gt;</span><br><span class="line">      	&lt;property name=&quot;dep&quot; ref=&quot;dep&quot;&gt;&lt;/property&gt;</span><br><span class="line">      &lt;/bean&gt;</span><br><span class="line">      &lt;bean id=&quot;dep&quot; class=&quot;com.dy.spring.dao.Dept&quot;&gt;</span><br><span class="line">      	&lt;property name=&quot;dname&quot; value=&quot;财务&quot;&gt;&lt;/property&gt;</span><br><span class="line">      &lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</blockquote>
<h5 id="注入集合属性"><a href="#注入集合属性" class="headerlink" title="注入集合属性"></a>注入集合属性</h5><blockquote>
<ol>
<li><p>注入数组</p>
</li>
<li><p>注入List集合类型属性</p>
</li>
<li><p>注入Map集合类型属性</p>
</li>
<li><pre><code class="xml">&lt;!--    集合注入--&gt;
        &lt;bean name=&quot;stu&quot; class=&quot;com.dy.spring.collectiontype.Student&quot;&gt;
&lt;!--    数组属性注入--&gt;
            &lt;property name=&quot;course&quot;&gt;
                &lt;array&gt;
                    &lt;value&gt;java课程&lt;/value&gt;
                    &lt;value&gt;数据库课程&lt;/value&gt;
                &lt;/array&gt;
            &lt;/property&gt;
&lt;!--    list属性注入--&gt;
            &lt;property name=&quot;name&quot;&gt;
                &lt;list&gt;
                    &lt;value&gt;张三&lt;/value&gt;
                    &lt;value&gt;王二&lt;/value&gt;
                &lt;/list&gt;
            &lt;/property&gt;
&lt;!--    Map属性注入--&gt;
            &lt;property name=&quot;maps&quot;&gt;
                &lt;map&gt;
                    &lt;entry key=&quot;JAVA&quot; value=&quot;java&quot;&gt;&lt;/entry&gt;
                    &lt;entry key=&quot;PHP&quot; value=&quot;php&quot;&gt;&lt;/entry&gt;
                &lt;/map&gt;
            &lt;/property&gt;
&lt;!--    set属性注入--&gt;
            &lt;property name=&quot;sets&quot;&gt;
                &lt;set&gt;
                    &lt;value&gt;1&lt;/value&gt;
                    &lt;value&gt;2&lt;/value&gt;
                &lt;/set&gt;
            &lt;/property&gt;
        &lt;/bean&gt;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">5. 在集合里面设置对象类型值</span><br><span class="line">6. 与级联赋值同理</span><br><span class="line"></span><br><span class="line">```xml</span><br><span class="line"> &lt;property name=&quot;list&quot;&gt;</span><br><span class="line"> 	&lt;list&gt;</span><br><span class="line">      	&lt;ref bean=&quot;course1&quot;&gt;&lt;/ref&gt;</span><br><span class="line">       &lt;ref bean=&quot;course2&quot;&gt;&lt;/ref&gt;</span><br><span class="line">      &lt;/list&gt;</span><br><span class="line">  &lt;/property&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li></li>
<li><p>把集合中属性提取出来作为公共部分</p>
</li>
<li><p>在spring配置空间引入util</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">http://www.springframework.org/schema/util </span><br><span class="line">https://www.springframework.org/schema/util/spring-beans.xsd&quot;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>地址配置</li>
<li>提取list集合类型属性注入</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!--    提取list集合类型属性注入--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;bookList&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>java基础<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>javaspring<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>springboot<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;book&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.dy.spring.study.Book&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bname&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookList&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bauthor&quot;</span> <span class="attr">value</span>=<span class="string">&quot;中国&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="FactoryBean"><a href="#FactoryBean" class="headerlink" title="FactoryBean"></a>FactoryBean</h4><blockquote>
<ol>
<li><p>普通beans:定义类型就是返回类型</p>
</li>
<li><p>工厂beans:在配置文件定义benas类型可以和返回类型不一样</p>
<ol>
<li><p>方法接口为 FactoryBean，修改getObject方法作为返回值类型</p>
</li>
<li><p>&#96;&#96;&#96;Java<br>public class MyBean implements FactoryBean<Course> {<br>@Override<br>public Course getObject() throws Exception {<br>    Course course &#x3D; new Course();<br>    course.setName(“javaee基础”);<br>    return course;<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3. xml文件引用</span><br><span class="line">4. ```xml</span><br><span class="line">   &lt;bean id=&quot;mybean&quot; class=&quot;com.dy.spring.bean.MyBean&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>方法实现</p>
</li>
<li><pre><code class="java">public void MyBean()&#123;

    ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);
    Course course = context.getBean(&quot;mybean&quot;, Course.class);
    System.out.println(course);
&#125;
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### bean作用域</span><br><span class="line"></span><br><span class="line">1. spring默认单实例对象，每次加载后只创建一个对象</span><br><span class="line">2. 多实例对象：</span><br><span class="line"></span><br><span class="line">   ```xml</span><br><span class="line">   &lt;bean id=&quot;book&quot; class=&quot;com.dy.spring.study.Book&quot; scope=&quot;singleton&quot;&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>bean里的scope属性里的值</p>
<ol>
<li>singleton(默认)：单实例<ol>
<li>创建spring配置文件时候就会创建一个单实例对象</li>
</ol>
</li>
<li>protorype：创建多实例<ol>
<li>在调用getBean方法后创建实例对象</li>
</ol>
</li>
<li>request：创建对象时，将对象放入到request中</li>
<li>session：创建对象时，将对象放入到session中</li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><blockquote>
<p>对象创建到销毁的过程</p>
<ol>
<li><p>bean的生命周期：</p>
<ol>
<li>通过构造器创建bean实例（通过无参数构创建）</li>
<li>对bean属性设置和对其他bean应用（调用set方法）<ol>
<li>把bean实例传递给后置处理器的方法（后置处理器）</li>
</ol>
</li>
<li>调用bean初始化方法        （需要配置）init-method方法<ol>
<li>把bean实例传递给后置处理器的方法（后置处理器）</li>
</ol>
</li>
<li>bean可以使用（对象已获取）</li>
<li>容器关闭的时候，调用bean的销毁方法（需要进行配置销毁方法）</li>
</ol>
</li>
<li><p>创建——注入——初始化——关闭——销毁</p>
</li>
<li><p>例子</p>
<ol>
<li>init-method:初始化方法	destroy-method&#x3D;销毁方法</li>
<li>&#96;&#96;&#96;xml<bean id="book" class="com.dy.spring.study.Book" init-method="show" destroy-method="destroyMethod">
    <property name="bname" ref="bookList"></property>
    <property name="bauthor" value="中国"></property>
</bean>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">4. bean后置处理器，bean生命周期七步：</span><br><span class="line"></span><br><span class="line">#### xml自动装配</span><br><span class="line"></span><br><span class="line">根据指定装配规则（属性名称或者属性类型），spring自动将匹配的属性进行注入</span><br><span class="line"></span><br><span class="line">1. 根据属性类型自动注入：autowire</span><br><span class="line">   1. byName：根据属性名称注入，注入值bean和id值和类属性名称的一样</span><br><span class="line">   2. btType：根据属性类型注入</span><br><span class="line"></span><br><span class="line">#### 外部属性文件</span><br><span class="line"></span><br><span class="line">1. 直接配置数据信息</span><br><span class="line"></span><br><span class="line">   1. 配置德鲁伊连接池</span><br><span class="line">   2. 引入德鲁伊jar包</span><br><span class="line"></span><br><span class="line">      1. 配置数据库连接：</span><br><span class="line">      2. ```xml</span><br><span class="line">         &lt;bean id=&quot;durid&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">             &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;&gt;&lt;/property&gt;</span><br><span class="line">             &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql//localhost:3306/userdb&quot;&gt;&lt;/property&gt;</span><br><span class="line">             &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt;</span><br><span class="line">             &lt;property name=&quot;password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;</span><br><span class="line">         &lt;/bean&gt;</span><br></pre></td></tr></table></figure>
3. 加载配置文件的方式

<ol>
<li><p>添加jdbc.properties文件</p>
<ol>
<li>&#96;&#96;&#96;properties<br>prpo.driverClass&#x3D;com.mysql.jdbc.Driver<br>prpo.url&#x3D;jdbc:mysql&#x2F;&#x2F;localhost:3306&#x2F;userdb<br>prpo.userName&#x3D;root<br>prpo.password&#x3D;root<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">2. bean导入属性文件，配置数据库连接</span><br><span class="line"></span><br><span class="line">   1. ```xml</span><br><span class="line">      &lt;!--在spring引入外部属性文件--&gt;</span><br><span class="line">          &lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!--连接池--&gt;</span><br><span class="line">          &lt;bean id=&quot;durid&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;</span><br><span class="line">              &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;prpo.driverClass&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">              &lt;property name=&quot;url&quot; value=&quot;$&#123;prpo.url&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">              &lt;property name=&quot;username&quot; value=&quot;$&#123;prpo.userName&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">              &lt;property name=&quot;password&quot; value=&quot;$&#123;prpo.password&#125;&quot;&gt;&lt;/property&gt;</span><br><span class="line">          &lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h4 id="基于注解方式注入属性"><a href="#基于注解方式注入属性" class="headerlink" title="基于注解方式注入属性"></a>基于注解方式注入属性</h4><blockquote>
<ol>
<li><p>什么是注解：</p>
<ol>
<li>注解是代码的特殊标记，格式：@注解名称(属性名称&#x3D;属性值属性名称&#x3D;属性值)</li>
<li>注解作用于方法、类、属性上面</li>
</ol>
</li>
<li><p>目的：简化xml配置</p>
</li>
<li><p>Bean管理</p>
<ol>
<li>@Component：普通注解、都可以创建对象</li>
<li>@Service：业务逻辑层</li>
<li>@Controller：web层、控制层</li>
<li>@Repository：dao层</li>
<li>四个注解功能一样，都可以用来出创建beans对象</li>
</ol>
</li>
<li><p>基于注解方式实现对象创建</p>
<ol>
<li><p>引入aop依赖</p>
</li>
<li><p>开启组件扫描</p>
<ol>
<li>&#96;&#96;&#96;xml<!--地址修改-->
<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a>   <a target="_blank" rel="noopener" href="https://www.springframework.org/schema/context/spring-context.xsd">https://www.springframework.org/schema/context/spring-context.xsd</a>“<!--    开启组件扫描-->
&lt;context:component-scan base-package&#x3D;”com.dy.spring2”&gt;</context:component-scan><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">3. 创建类为类添加注解</span><br><span class="line"></span><br><span class="line">   1. ```java</span><br><span class="line">      @Service(value = &quot;UserService&quot;)</span><br><span class="line">      public class UserService &#123;</span><br><span class="line"></span><br><span class="line">          public void add()&#123;</span><br><span class="line">              System.out.println(&quot;Service add...&quot;);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>注解中vlaue的值可以不写，默认为类的名称，首字母为小写</li>
</ol>
</li>
</ol>
</li>
<li><p>组件扫描细节配置</p>
<ol>
<li>user-default-filters：包含的规则（过滤）,默认是true，为全部都扫描</li>
<li>意义：只扫描spring2里的Controller注解，在expression里定义</li>
<li>&#96;&#96;&#96;xml<!--    示例1-->
&lt;context:component-scan base-package&#x3D;”com.dy.spring2” use-default-filters&#x3D;”false”&gt;<br>&lt;context:include-filter type&#x3D;”annotation” expression&#x3D;”org.springframework.stereotype.Controller”&#x2F;&gt;<br></context:component-scan><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4. context:exclude表示为不扫描哪一个标签</span><br><span class="line">5. ```xml</span><br><span class="line">   &lt;context:component-scan base-package=&quot;com.dy.spring2&quot;&gt;</span><br><span class="line">       &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt;</span><br><span class="line">   &lt;/context:component-scan&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>基于注解实现属性注入</p>
<ol>
<li><p>@Autowired：根据属性类型进行注入</p>
<ol>
<li>&#96;&#96;&#96;java<br> &#x2F;&#x2F;    属性上添加属性注解<br>&#x2F;&#x2F;    不需要添加set方法<br>@Autowired  &#x2F;&#x2F;根据类型进行注入<br>private UserDao ud;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2. @Quailfier：根据属性名称进行注入</span><br><span class="line"></span><br><span class="line">   1. 和@Quaifier一起使用</span><br><span class="line">   2. 当一个接口有多个对象时，通过属性类型注入就会失败，需要添加Quaillfier(value=&quot;属性名&quot;)进行区分</span><br><span class="line">   3. ```java</span><br><span class="line">       @Autowired  //根据类型进行注入</span><br><span class="line">      @Qualifier(value = &quot;userDaoImp1&quot;)</span><br><span class="line">      private UserDao ud;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>@Resource：根据类型或者名称注入</p>
<ol>
<li>可以根据类型和名称注入</li>
<li>&#96;&#96;&#96;java<br> @Resource(name &#x3D; “userDaoImp1”)<br>private UserDao ud1;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">4. @Value：注入普通类型属性</span><br><span class="line"></span><br><span class="line">   1. 为属性注入值</span><br><span class="line">   2. ```java</span><br><span class="line">       @Value(value = &quot;启动&quot;)</span><br><span class="line">      private String stat;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h4 id="完全注解开发"><a href="#完全注解开发" class="headerlink" title="完全注解开发"></a>完全注解开发</h4><blockquote>
<ol>
<li><p>创建配置类</p>
<ol>
<li>&#96;&#96;&#96;java<br>@Configuration &#x2F;&#x2F;作为配置类<br>@ComponentScan(basePackages &#x3D; {“com.dy.spring2”})&#x2F;&#x2F;开启注解扫描<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2. 等价于</span><br><span class="line">3. ```xml</span><br><span class="line">   &lt;context:component-scan base-package=&quot;com.dy.spring2&quot;&gt;&lt;/context:component-scan&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>创建测试类</p>
<ol>
<li>将引入配置文件布置换为引入配置类</li>
<li>&#96;&#96;&#96;<br>ApplicationContext context &#x3D; new AnnotationConfigApplicationContext(SpringConfig.class);<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## AOP</span><br><span class="line"></span><br><span class="line">1. 面向切面编程（方面），利用AOP对**业务逻辑的各个部分进行隔离**，从而使得业务逻辑各部分耦合度降低，提高程序的可读性和开发效率</span><br><span class="line">2. 通俗概念：不通过修改源代码添加新的功能</span><br><span class="line"></span><br><span class="line">### 1. 底层原理</span><br><span class="line"></span><br><span class="line">1. AOP底层：动态代理</span><br><span class="line">   1. 有接口，使用JDK动态代理</span><br><span class="line">      1. 创建接口实现类代理对象，增强类的方法</span><br><span class="line">   2. 无接口，使用CGLIB动态代理</span><br><span class="line">      1. 创建子类代理对象，进行方法增强</span><br><span class="line"></span><br><span class="line">#### jdk动态代理</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">    java.lang.reflect.Proxy //Proxy类下的</span><br><span class="line">    newProxyInstance(ClassLoader loader, 类&lt;?&gt;[] interfaces, InvocationHandler h) //方法</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>调用newProxyInstance方法进行实现</p>
</li>
<li><p>static Object（静态方法）</p>
<ol>
<li>newProxyInstance(ClassLoader loader, 类&lt;?&gt;[] interfaces, InvocationHandler h)	返回指定接口的代理类的实例，该接口方法调用分派给指定的调用处理程序</li>
<li>ClassLoader：类加载器</li>
<li>Interfaces：增强方法所在的类，这个类实现多个接口，支持多个接口</li>
<li>InvocationHandler： 实现这个接口InvocationHandler，创建代理对象，写增强方法</li>
</ol>
</li>
</ol>
</blockquote>
<h5 id="代码实现jdk动态代理"><a href="#代码实现jdk动态代理" class="headerlink" title="代码实现jdk动态代理"></a>代码实现jdk动态代理</h5><blockquote>
<ol>
<li><p>创建接口和接口类</p>
</li>
<li><p>调用JDKProxy实现动态代理</p>
</li>
<li><p>动态代理方法</p>
</li>
<li><p>&#96;&#96;&#96;java<br>public static void main(String[] args) {<br>UserDao ud &#x3D; new UserDaoImp();<br>MyHandlerProxy invocation &#x3D; new MyHandlerProxy(ud);<br>UserDao proxy &#x3D;  (UserDao)Proxy.newProxyInstance(ud.getClass().getClassLoader(),<br>        ud.getClass().getInterfaces(),<br>        invocation);<br>System.out.println(ud.add(1,2));<br>System.out.println(proxy.add(1,2));<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 2. AOP常用术语</span><br><span class="line"></span><br><span class="line">1. 连接点</span><br><span class="line">   1. 类中方法可以被增强的方法称为连接点</span><br><span class="line">2. 切入点</span><br><span class="line">   1. 实际被增强的方法称为切入点</span><br><span class="line">3. 通知（增强）</span><br><span class="line">   1. 实际增强的逻辑部分称为通知（例如在登录中加入权限判断的功能）</span><br><span class="line">   2. 通知类型</span><br><span class="line">      1. 前置通知</span><br><span class="line">      2. 后置通知</span><br><span class="line">      3. 环绕通知</span><br><span class="line">         1. 前执行或者后执行</span><br><span class="line">      4. 异常通知</span><br><span class="line">      5. 最终通知：（finally）最后都要执行</span><br><span class="line">4. 切面</span><br><span class="line">   1. 把通知运用到切入点的过程</span><br><span class="line"></span><br><span class="line">### 3. AOP操作</span><br><span class="line"></span><br><span class="line">#### 1. 准备</span><br><span class="line"></span><br><span class="line">1. spring框架一般基于AspectJ实现AOP操作</span><br><span class="line"></span><br><span class="line">   1. AspectJ是一种独立的AOP框架</span><br><span class="line">2. 基于AspectJ实现AOP操作</span><br><span class="line"></span><br><span class="line">   1. 基于配置文件操作</span><br><span class="line">   2. 基于注解方式实现操作</span><br><span class="line">3. 引入依赖</span><br><span class="line"></span><br><span class="line">   1. maven导入的依赖包</span><br><span class="line">   2. ```xml</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;5.2.6.RELEASE&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;1.9.6&lt;/version&gt;</span><br><span class="line">          &lt;scope&gt;runtime&lt;/scope&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;aopalliance&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;aopalliance&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;1.0&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br><span class="line">      &lt;dependency&gt;</span><br><span class="line">          &lt;groupId&gt;net.sourceforge.cglib&lt;/groupId&gt;</span><br><span class="line">          &lt;artifactId&gt;com.springsource.net.sf.cglib&lt;/artifactId&gt;</span><br><span class="line">          &lt;version&gt;2.2.0&lt;/version&gt;</span><br><span class="line">      &lt;/dependency&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>切入点表达方式</p>
<ol>
<li>作用：知道对那个类里面的那个方法进行增强</li>
<li>语法结构：<ol>
<li>execution([ 权限修饰符 ] [返回类型] [类全路径] [方法名称] (参数列表))</li>
</ol>
</li>
<li>例子：<ol>
<li>execution(*.com.dy.BookDao.add(..))<ol>
<li>增强add方法</li>
</ol>
</li>
<li>execution(*.com.dy.BookDao.*(..))<ol>
<li>增强BookDao下的所有方法</li>
</ol>
</li>
<li>execution(*.com.dy.*.*(..))<ol>
<li>增强dy包下的所有方法</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h4 id="2-基于注解实现操作："><a href="#2-基于注解实现操作：" class="headerlink" title="2.基于注解实现操作："></a>2.基于注解实现操作：</h4><blockquote>
<ol>
<li><p>创建类</p>
</li>
<li><p>创建增强类，在增强类里创建方法</p>
</li>
<li><p>修改配置文件</p>
<ol>
<li>开启aspectj生产代理对象</li>
<li>&#96;&#96;&#96;xml<br><a href="aop:aspectj-autoproxy">aop:aspectj-autoproxy</a></aop:aspectj-autoproxy><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4. 创建目标类和增强类</span><br><span class="line">5. 将目标类的增强类注解实例</span><br><span class="line">6. 在增强类添加注解@Aspect（代表生产代理对象）</span><br><span class="line"></span><br><span class="line">   1. 增强类注释</span><br><span class="line">   2. ```java</span><br><span class="line">      @Component</span><br><span class="line">      @Aspect // 生产代理对象，切面</span><br><span class="line">      public class UserProxy &#123;&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>使用execution方法增加通知</p>
<ol>
<li>ProceedingJoinPoint processJoinPoint为环绕通知添加方法执行的次序</li>
<li>执行：processJoinPoint.proceed();</li>
<li>&#96;&#96;&#96;java<br>&#x2F;&#x2F;    前置通知<br>@Before(value &#x3D; “execution(* com.dy.aop.aopanno.service.imp.UserServiceImp.add(..))”)<br>public void before(){<br>    System.out.println(“前置增加”);<br>}<br>&#x2F;&#x2F;  最终通知，无论是否有异常都要执行<br>@After(value &#x3D; “execution(* com.dy.aop.aopanno.service.imp.UserServiceImp.add(..))”)<br>public void after(){<br>    System.out.println(“after”);<br>}<br>&#x2F;&#x2F; 后置通知，返回值后执行，报错不执行<br>@AfterReturning(value”execution(<em>com.dy.aop.aopanno.service.imp.UserServiceImp.add(..))”)<br>public void afterReturning(){<br>    System.out.println(“after Return”);<br>}<br>&#x2F;&#x2F; 异常通知<br>@AfterThrowing(value &#x3D; “execution(</em> com.dy.aop.aopanno.service.imp.UserServiceImp.add(..))”)<br>public void afterThrowing(){<br>    System.out.println(“afterThrowing”);<br>}<br>&#x2F;&#x2F;环绕通知 环绕之后属于后置通知<br>@Around(value &#x3D; “execution(* com.dy.aop.aopanno.service.imp.UserServiceImp.add(..))”)<br>public void around(ProceedingJoinPoint processJoinPoint) throws Throwable {<br>    System.out.println(“环绕前”);<br>    processJoinPoint.proceed();<br>    System.out.println(“环绕后”);<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">8. 重用切入点</span><br><span class="line"></span><br><span class="line">   1. 对重复的切入点进行抽取</span><br><span class="line">   2. 注解类@Pointcut(value = &quot;切入点&quot;)</span><br><span class="line">   3. ```Java</span><br><span class="line">        @Pointcut(value = &quot;execution(* com.dy.aop.aopanno.service.imp.UserServiceImp.add(..))&quot;)</span><br><span class="line">         public void pointcut()&#123;</span><br><span class="line"></span><br><span class="line">       //    前置通知</span><br><span class="line">            @Before(value = &quot;pointcut()&quot;)</span><br><span class="line">         public void before()&#123;</span><br><span class="line">                System.out.println(&quot;前置增加&quot;);</span><br><span class="line">                System.out.println(&quot;公共抽取类&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>对一个类里多个方法进行增强</p>
<ol>
<li>注解@Order(1)进行优先级设置，数字越低优先级越高</li>
<li>&#96;&#96;&#96;java<br>@Component<br>@Aspect<br>@Order(1)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 3. AspectJ配置文件</span><br><span class="line"></span><br><span class="line">1. 创建两个类，增强类和目标类</span><br><span class="line">2. 在spring配置中 创建两个对象</span><br><span class="line">3. 在spring配置中加入切入点</span><br><span class="line"></span><br><span class="line">   1. xml切入点于切面配置</span><br><span class="line">   2. ```xml</span><br><span class="line">      &lt;!--aop配置增强--&gt;</span><br><span class="line">          &lt;aop:config&gt;</span><br><span class="line">      &lt;!--        切入点--&gt;</span><br><span class="line">              &lt;aop:pointcut id=&quot;p&quot; expression=&quot;execution(* com.dy.aop.xmlclass.dao.User.add(..))&quot;/&gt;</span><br><span class="line">      &lt;!--        配置切入面--&gt;</span><br><span class="line">              &lt;aop:aspect ref=&quot;prouser&quot;&gt;//增强类</span><br><span class="line">                  &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;p&quot;&gt;&lt;/aop:before&gt;</span><br><span class="line">              &lt;/aop:aspect&gt;</span><br><span class="line">          &lt;/aop:config&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</blockquote>
<h4 id="4-完全注解开发"><a href="#4-完全注解开发" class="headerlink" title="4. 完全注解开发"></a>4. 完全注解开发</h4><blockquote>
<p>配置类：</p>
<ol>
<li><p>&#96;&#96;&#96;java<br>@Configuration &#x2F;&#x2F;作为配置类<br>@ComponentScan(basePackages &#x3D; {“com.dy.aop.aopanno”})&#x2F;&#x2F;开启注解配置<br>@EnableAspectJAutoProxy(proxyTargetClass &#x3D; true)&#x2F;&#x2F;生产代理对象<br>public class AopConfig {</p>
<p>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## JdbcTemplate</span><br><span class="line"></span><br><span class="line">### 1. 开始准备</span><br><span class="line"></span><br><span class="line">1. 导入依赖</span><br><span class="line">2. ```xml</span><br><span class="line">   &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;druid&lt;/artifactId&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line">       &lt;dependency&gt;</span><br><span class="line">           &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">       &lt;/dependency&gt;</span><br><span class="line">   &lt;/dependencies&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>在spring配置文件配置数据库连接池》》》ioc容器引入外部文件有</p>
</li>
<li><p>配置JdbcTemplate对象，注入DataSource</p>
<ol>
<li>xml文件注入</li>
<li>&#96;&#96;&#96;xml<!--   引入外部属性文件-->
<pre><code>&lt;context:property-placeholder location=&quot;classpath:jdbc.properties&quot;/&gt;

&lt;!--连接池--&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt;
    &lt;property name=&quot;driverClassName&quot; value=&quot;$&#123;prpo.driverClass&#125;&quot;&gt;&lt;/property&gt;
    &lt;property name=&quot;url&quot; value=&quot;$&#123;prpo.url&#125;&quot;&gt;&lt;/property&gt;
    &lt;property name=&quot;username&quot; value=&quot;$&#123;prpo.userName&#125;&quot;&gt;&lt;/property&gt;
    &lt;property name=&quot;password&quot; value=&quot;$&#123;prpo.password&#125;&quot;&gt;&lt;/property&gt;
&lt;/bean&gt;
</code></pre>
<!--创建连接-->
<pre><code>&lt;bean id=&quot;myjdbc&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;
</code></pre>
<!--        注入数据库信息-->
<pre><code>    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;
&lt;/bean&gt;
</code></pre>
<!--开启注解扫描-->
<pre><code>&lt;context:component-scan base-package=&quot;com.dy.spring.demo1&quot;&gt;&lt;/context:component-scan&gt;
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">5. 利用注解创建service和dao对象</span><br><span class="line"></span><br><span class="line">### 数据库基本操作</span><br><span class="line"></span><br><span class="line">#### 1. 增加操作</span><br><span class="line"></span><br><span class="line">1. 对应数据库创建实体类&gt;&gt;&gt;&gt;Po类</span><br><span class="line">2. 创建连接属性并进行注解实例化</span><br><span class="line"></span><br><span class="line">   1. xml文件下进行实例化</span><br><span class="line">   2. ```java</span><br><span class="line">      @Autowired</span><br><span class="line">      private JdbcTemplate myjdbc;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>在dao进行数据库添加操作</p>
<ol>
<li><p>相当于把jdbc功能封装了</p>
</li>
<li><p>&#96;&#96;&#96;java<br> @Autowired  &#x2F;&#x2F;注解引入myjdbc类<br>private JdbcTemplate myjdbc;</p>
<p>public boolean add(User user) {<br>&#x2F;&#x2F;      创建sql语句<br>    String sql &#x3D; “insert into user values(?,?,?)”;<br>&#x2F;&#x2F;<br>    int i &#x3D; myjdbc.update(sql,user.getName(),user.getAge(),user.getGender());<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 2. 删除操作</span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line">@Override</span><br><span class="line">public boolean delet(int id) &#123;</span><br><span class="line">    String sql = &quot;delete from user where id=?&quot;;</span><br><span class="line">    int flag = myjdbc.update(sql,id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</blockquote>
<h4 id="3-修改操作"><a href="#3-修改操作" class="headerlink" title="3. 修改操作"></a>3. 修改操作</h4><blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">updata</span><span class="params">(User user, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update user set name=?,age=?,gender=? where id=?&quot;</span>;</span><br><span class="line">    Object[] obj = &#123;user.getName(), user.getAge(), user.getGender(), <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> myjdbc.update(sql,obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="4-查询操作"><a href="#4-查询操作" class="headerlink" title="4.查询操作"></a>4.查询操作</h4><blockquote>
<ol>
<li><p>查询返回记录数：</p>
<ol>
<li><p>queryForObject(sql, Object.class):</p>
<ol>
<li>第一个是数据库语句</li>
<li>第二个是返回参数类型</li>
</ol>
</li>
<li><p>&#96;&#96;&#96;java<br>String sql &#x3D; “select count(*) from user”;<br>int count &#x3D; myjdbc.queryForObject(sql,Integer.class);<br>return count;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2. 查询返回某个对象</span><br><span class="line"></span><br><span class="line">   1. queryForObject(String sql, RowMapper `&lt;T&gt;` rowMapper, Object... args):</span><br><span class="line"></span><br><span class="line">      1. 数据库语句</span><br><span class="line">      2. 返回不同数据类型，利用接口实现类完成数据封装</span><br><span class="line">      3. sql语句值</span><br><span class="line">   2. ```java</span><br><span class="line">      String sql = &quot;select * from user where id=?&quot;;</span><br><span class="line">      User user = myjdbc.queryForObject(sql,new BeanPropertyRowMapper&lt;User&gt;(User.class),id);</span><br><span class="line">      return user;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>查询返回集合</p>
<ol>
<li><p>返回集合调用query方法完成</p>
</li>
<li><p>&#96;&#96;&#96;Java<br>String sql &#x3D; “select * from user where name&#x3D;?”;<br>List<User> userList &#x3D; myjdbc.query(sql,new BeanPropertyRowMapper<User>(User.class),name);<br>return userList;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 5. 批量操作</span><br><span class="line"></span><br><span class="line">操作表里的多条数据</span><br><span class="line"></span><br><span class="line">1. 批量添加</span><br><span class="line"></span><br><span class="line">   1. batchUpdata函数，底层会给你遍历取出逐个加入</span><br><span class="line">   2. ```java</span><br><span class="line">       public boolean addList(List&lt;Object[]&gt; batchArgs) &#123;</span><br><span class="line">              String sql = &quot;insert into user (name, gender,age) values(?,?,?)&quot;;</span><br><span class="line">              int[] ins = myjdbc.batchUpdate(sql,batchArgs);</span><br><span class="line">              return true;</span><br><span class="line">          &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>列表赋值</p>
<ol>
<li>Object[] 数组里的值与sql语句里缺少值的数量要一致</li>
</ol>
</li>
<li><p>&#96;&#96;&#96;java<br>List&lt;Object[]&gt; addList &#x3D; new ArrayList&lt;&gt;();<br>Object[] o1 &#x3D; {“李四”, “女”, “24”};<br>Object[] o2 &#x3D; {“李四”, “男”, “34”};<br>Object[] o3 &#x3D; {“李四”, “女”, “20”};<br>addList.add(o1);<br>addList.add(o2);<br>addList.add(o3);<br>usr.addList(addList);</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2. 批量修改</span><br><span class="line"></span><br><span class="line">   1. ```java</span><br><span class="line">      public boolean updataList(List&lt;Object[]&gt; batchArgs) &#123;</span><br><span class="line">          String sql = &quot;update user set name=?,gender=?,age=? where id=?&quot;;</span><br><span class="line">          int[] ins = myjdbc.batchUpdate(sql,batchArgs);</span><br><span class="line"></span><br><span class="line">          return false;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>批量删除</p>
<ol>
<li>&#96;&#96;&#96;java<br>public void deleteList(List&lt;Object[]&gt; batchArgs) {<br>String sql &#x3D; “delete from user where id&#x3D;?”;<br>int[] ins &#x3D; myjdbc.batchUpdate(sql, batchArgs);<br>}<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 事务操作：</span><br><span class="line"></span><br><span class="line">### 1. 概述</span><br><span class="line"></span><br><span class="line">1. 事务管理添加到javaee三层结构里的Service层里</span><br><span class="line">2. 事务管理操作：</span><br><span class="line">   1. 编程式事务管理</span><br><span class="line">   2. 声明式事务管理</span><br><span class="line">3. spring一般使用声明式事务管理</span><br><span class="line">   1. 基于注解方式</span><br><span class="line">   2. 基于xml配置文件方式</span><br><span class="line">4. 底层使用AOP 原理</span><br><span class="line">5. spring事务管理API</span><br><span class="line">   1. 提供一个接口代表事务管理器，针对不同框架提供不同实现类</span><br><span class="line">   2. 调用PlatformTransactionManager接口下的方法进行实现</span><br><span class="line">6. 当service业务处理发生异常时，事务会进行回滚，不进行操作，不发生异常就操作完</span><br><span class="line"></span><br><span class="line">### 2. 基于注解方式配置进行事务管理</span><br><span class="line"></span><br><span class="line">1. 在xml文件里声明TransationManager，事务管理器</span><br><span class="line">2. ```xml</span><br><span class="line">   &lt;bean id=&quot;TransactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;</span><br><span class="line">       &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;&lt;!--注入属性连接池--&gt;</span><br><span class="line">   &lt;/bean&gt;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>引入名称空间tx</p>
</li>
<li><p>&#96;&#96;&#96;xml<br>xmlns:tx&#x3D;”<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/tx">http://www.springframework.org/schema/tx</a>“</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">5. 开启事务注解</span><br><span class="line"></span><br><span class="line">   1. 将刚才创建的事务管理器放入transaction-manager里</span><br><span class="line">   2. ```xml</span><br><span class="line">      &lt;tx:annotation-driven transaction-manager=&quot;TransactionManager&quot;&gt;&lt;/tx:annotation-driven&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>在service类里添加事务注解：</p>
<ol>
<li>注解可添加到类或者方式上</li>
<li>&#96;&#96;&#96;java<br>@Transactional<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">      1. 添加到类上&gt;&gt;&gt;&gt;代表类中方法都添加事务</span><br><span class="line">      2. 方法上只代表方法上添加事务</span><br><span class="line"></span><br><span class="line">#### 1. 在事务管理中配置参数</span><br><span class="line"></span><br><span class="line">在Transactional中配置属性参数</span><br><span class="line"></span><br><span class="line">##### propagation()</span><br><span class="line"></span><br><span class="line">1. 事务传播行为：在不同事务之间进行操作，进行互相调用的行为</span><br><span class="line">2. 事务方法：对数据库表数据进行变化的操作</span><br><span class="line">3. REQUIRED</span><br><span class="line"></span><br><span class="line">   1. 当前方法有事务，调用方法就在这个事务里运行，没有事务则调用方法新创建一个事务</span><br><span class="line">4. REQUIRED_NEW</span><br><span class="line"></span><br><span class="line">   1. 无论当前方法有没有事务，调用方法都创建新的事务</span><br><span class="line">5. ```JAVA</span><br><span class="line">   @Service</span><br><span class="line">   @Transactional(propagation = Propagation.REQUIRED)</span><br><span class="line">   public class UserService &#123;&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</blockquote>
<h5 id="isolation"><a href="#isolation" class="headerlink" title="isolation()"></a><strong>isolation()</strong></h5><blockquote>
<ol>
<li><p>事务隔离级别</p>
</li>
<li><p>特性：隔离性、、、多事务操作不会产生影响</p>
<ol>
<li><p>不考虑隔离性产生的问题：脏读、不可重复读、虚（幻）读</p>
<ol>
<li>脏读：一个<strong>未提交</strong>事务读取另一个<strong>未提交</strong>事务的数据</li>
<li>不可重复读：一个<strong>未提交</strong>的事务读取到另一个<strong>提交</strong>事务修改、</li>
<li>虚读：一个<strong>未提交</strong>的事务读取到另一个<strong>提交</strong>事务添加数据</li>
</ol>
</li>
<li><p>设置隔离级别解决只读问题</p>
<ol>
<li><table>
<thead>
<tr>
<th align="left">参数</th>
<th>脏读</th>
<th>不可重复读</th>
<th align="left">幻读</th>
</tr>
</thead>
<tbody><tr>
<td align="left">READ_COMMITTED（读未提交）</td>
<td>有</td>
<td>有</td>
<td align="left">有</td>
</tr>
<tr>
<td align="left">READ_UNCOMMITTED（读已提交）</td>
<td>无</td>
<td>有</td>
<td align="left">有</td>
</tr>
<tr>
<td align="left">REPEATABLE_READ（可重复读）（mysql默认设置）</td>
<td>无</td>
<td>无</td>
<td align="left">有</td>
</tr>
<tr>
<td align="left">SERIALIZABLE（串行化）</td>
<td>无</td>
<td>无</td>
<td align="left">无</td>
</tr>
</tbody></table>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h5 id="timeout"><a href="#timeout" class="headerlink" title="timeout()"></a>timeout()</h5><blockquote>
<ol>
<li>在一定时间内将那些提交，未提交进行事务回滚</li>
<li>默认时间-1:表示未不超时</li>
<li>设置时间以秒单位进行计算</li>
</ol>
</blockquote>
<h5 id="readOn"><a href="#readOn" class="headerlink" title="readOn()"></a>readOn()</h5><blockquote>
<ol>
<li>默认值为false,可以进行增删改查操作</li>
<li>true:只能进行查找操作</li>
</ol>
</blockquote>
<h5 id="roolbackFor-：回滚"><a href="#roolbackFor-：回滚" class="headerlink" title="roolbackFor()：回滚"></a>roolbackFor()：回滚</h5><blockquote>
<ol>
<li>设置查询那些异常进行事务回滚</li>
</ol>
</blockquote>
<h5 id="noRollbackFor-：不回滚"><a href="#noRollbackFor-：不回滚" class="headerlink" title="noRollbackFor()：不回滚"></a>noRollbackFor()：不回滚</h5><blockquote>
<ol>
<li>设置那些异常不进行事务回滚</li>
</ol>
</blockquote>
<h3 id="3-基于xml方式声明事务管理（待定）"><a href="#3-基于xml方式声明事务管理（待定）" class="headerlink" title="3. 基于xml方式声明事务管理（待定）"></a>3. 基于xml方式声明事务管理（待定）</h3><blockquote>
<ol>
<li>配置事务管理器</li>
<li>配置通知</li>
<li>配置切入点和切面</li>
</ol>
</blockquote>
<h3 id="4-完全注解开发-完全注解声明式事务管理"><a href="#4-完全注解开发-完全注解声明式事务管理" class="headerlink" title="4. 完全注解开发(完全注解声明式事务管理)"></a>4. 完全注解开发(完全注解声明式事务管理)</h3><blockquote>
<ol>
<li><p>创建一个配置类</p>
</li>
<li></li>
<li><p>&#96;&#96;&#96;java<br>@Configuration<br>@ComponentScan(basePackages &#x3D; “com.dy.spring.demo2”)<br>&#x2F;&#x2F;开启事务注解扫描<br>@EnableTransactionManagement<br>public class TransactionConfig {</p>
<p>&#x2F;&#x2F;    创建一个数据库连接池 与配置文件中功能相同<br>@Bean<br>public DruidDataSource getDruidDataSource(){<br>    DruidDataSource dataSource &#x3D; new DruidDataSource();<br>    dataSource.setDriverClassName(“com.mysql.jdbc.Driver”);<br>    dataSource.setUrl(“jdbc:mysql:&#x2F;&#x2F;localhost:3306&#x2F;userdb”);<br>    dataSource.setUsername(“root”);<br>    dataSource.setPassword(“root”);<br>    return dataSource;<br>}<br>&#x2F;&#x2F;    创建数据库配置<br>@Bean<br>public JdbcTemplate getJdbcTemplate(DataSource dataSource){<br>&#x2F;&#x2F;        在IOC容器中找到同类型的进行注入<br>    JdbcTemplate myjdbc &#x3D; new JdbcTemplate();<br>    myjdbc.setDataSource(dataSource);<br>    return myjdbc;<br>}<br>&#x2F;&#x2F;    创建事务管理器<br>@Bean<br>public DataSourceTransactionManager dataSourceTransactionManager(DataSource dataSource){<br>    DataSourceTransactionManager dataSourceTransactionManager &#x3D; new DataSourceTransactionManager();<br>    dataSourceTransactionManager.setDataSource(dataSource);<br>    return dataSourceTransactionManager;<br>}<br>}</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## spring5新功能</span><br><span class="line"></span><br><span class="line">### 整合日志框架</span><br><span class="line"></span><br><span class="line">spring5新功能</span><br><span class="line"></span><br><span class="line">1. 整个spring5框架基于java8，运行时兼容jkd9,许多不建议使用的类和方法在代码库中删除</span><br><span class="line">2. spring5自带通用的日志封装</span><br><span class="line">3. Log4j2</span><br><span class="line">4. Spring框架整合Log4j2框架</span><br><span class="line"></span><br><span class="line">   1. 引入相关jar包或者依赖</span><br><span class="line"></span><br><span class="line">      1. maven导入相关的包</span><br><span class="line">      2. ```xml</span><br><span class="line">         &lt;dependency&gt;</span><br><span class="line">             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;</span><br><span class="line">             &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;</span><br><span class="line">             &lt;version&gt;2.11.2&lt;/version&gt;</span><br><span class="line">         &lt;/dependency&gt;</span><br><span class="line">         &lt;dependency&gt;</span><br><span class="line">             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;</span><br><span class="line">             &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;</span><br><span class="line">             &lt;version&gt;2.11.2&lt;/version&gt;</span><br><span class="line">         &lt;/dependency&gt;</span><br><span class="line">         &lt;dependency&gt;</span><br><span class="line">             &lt;groupId&gt;org.slf4j&lt;/groupId&gt;</span><br><span class="line">             &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;</span><br><span class="line">             &lt;version&gt;1.7.30&lt;/version&gt;</span><br><span class="line">         &lt;/dependency&gt;</span><br><span class="line">         &lt;dependency&gt;</span><br><span class="line">             &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;</span><br><span class="line">             &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;</span><br><span class="line">             &lt;version&gt;2.11.2&lt;/version&gt;</span><br><span class="line">         &lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>创建log4j2.xml配置文件</p>
<ol>
<li>日志结构</li>
<li>&#96;&#96;&#96;xml<?xml version="1.0" encoding="UTF-8" ?>
<configuration status="INFO">
<!-- 先定义所有的appender-->
    <appenders>
<!-- 输出日志信息到控制台-->
        <console name="Console" target="SYSTEM_OUT">
<!--  控制日志输出的格式-->
            <PatternLayout pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %-5level %logger{36} - %msg%n"/>
        </console>
    </appenders>
<!--定义loggers,引入appender，定义loggers并引入appender才会生效-->
<!--    root:用于知道项目的跟目录，如果没有单独指定Logger,则会使用root作为默认日志输出-->
    <loggers>
        <root level="info">
            <appender-ref ref="Console"/>
        </root>
    </loggers>
</configuration>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### Nullable注解和函数式注册对象</span><br><span class="line"></span><br><span class="line">1. @Nullable注解可以使用在方法、属性、参数。表示方法返回值、属性、参数可以为空</span><br><span class="line">2. 核心容器支持函数式风格：</span><br><span class="line"></span><br><span class="line">   1. 可以基于这个创建对象，name可以为空</span><br><span class="line">   2. ```java</span><br><span class="line">      public void testGenericApplication()&#123;</span><br><span class="line">          GenericApplicationContext context = new GenericApplicationContext();</span><br><span class="line">          context.refresh();</span><br><span class="line">          context.registerBean(&quot;userUservice&quot;(@Nullable),UserService.class() -&gt; new UserService());</span><br><span class="line">          UserService us = (UserService) context.getBean(&quot;com.dy.spring.demo2.service.UserService&quot;);</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
</li>
</ol>
</blockquote>
<h3 id="junit测试框架"><a href="#junit测试框架" class="headerlink" title="junit测试框架"></a>junit测试框架</h3><blockquote>
<ol>
<li><p>引入相关的测试依赖</p>
<ol>
<li>&#96;&#96;&#96;xml<dependency>
    <groupId>org.springframework</groupId>
    <artifactId>spring-test</artifactId>
</dependency>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2. 创建测试类</span><br><span class="line"></span><br><span class="line">   1. ```Java</span><br><span class="line">      ApplicationContext context = new ClassPathXmlApplicationContext(&quot;beans2.xml&quot;);</span><br><span class="line">      UserService us = context.getBean(&quot;userService&quot;, UserService.class);</span><br></pre></td></tr></table></figure></li>
<li>两个效果等同</li>
<li><pre><code class="java">//指定相关的j4版本
@RunWith(SpringJUnit4ClassRunner.class)
 @ContextConfiguration(&quot;classpath:beans2.xml&quot;)
</code></pre>
</li>
<li>使用注解实例化对象</li>
</ol>
</li>
</ol>
</blockquote>
<h2 id="webFlux"><a href="#webFlux" class="headerlink" title="webFlux"></a>webFlux</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><blockquote>
<ol>
<li>一种一步非阻塞的框架、在Servlet3.1以后才进行支持，核心时基于Reactor相关的API 实现</li>
<li>异步与同步：针对调用者来说<ol>
<li>同步：调用者发送请求后接受者回应之后，调用者才可以做其他处理</li>
<li>异步：调用者发送请求后接受者不需要回，调用者也可以做其他事务处理</li>
</ol>
</li>
<li>阻塞与非阻塞：针对被调用者<ol>
<li>阻塞：接收者接受请求后，完成请求之后才给出反馈</li>
<li>非阻塞：接收者接受请求后，没有完成请求就先给出反馈</li>
</ol>
</li>
<li>响应式编程</li>
</ol>
</blockquote>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatat.jpg" alt="duyao"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">duyao</p><p class="is-size-6 is-block">冰海</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>学习记录学习</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">2</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/duyaostudy" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/duyaostudy"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://weixin.com"><i class="fab fa-wechat"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://git.com"><i class="fab fa-git"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://qq.com"><i class="fab fa-qq"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://baidu.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">百度</span></span><span class="level-right"><span class="level-item tag">baidu.com</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/hexo/"><span class="level-start"><span class="level-item">hexo</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%90%8E%E7%AB%AF/"><span class="level-start"><span class="level-item">后端</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/myblog/"><span class="tag">myblog</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-15T09:15:56.804Z">2022-12-15</time></p><p class="title"><a href="/2022/12/15/hello-wrod/">hello world</a></p><p class="categories"><a href="/categories/hexo/">hexo</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-15T07:27:51.380Z">2022-12-15</time></p><p class="title"><a href="/2022/12/15/Spring5/">Sping5</a></p><p class="categories"><a href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/ice-logo.svg" alt="冰海" height="28"></a><p class="is-size-7"><span>&copy; 2022 duyao</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/duyaostudy/hexo-theme-icarus-duyao"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>